<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    
    <composite:interface> 

    </composite:interface>
    <composite:implementation>

        <section id="daily-stats-selector" style="dispaly:inline-flex">
            <h:form id="selector">
                <p:outputLabel value="Select : " />
                <p:selectOneMenu id="menu" value="#{statController.selectedDate}">
                    <p:ajax event="itemSelect" process="@this"
                            update="stats:selecteddate stats:daily-chart stats:daily-chart-label" 
                            listener="#{statController.dateChangeListener()}"/>
                    <f:selectItems value="#{statController.datesAll}"/>
                </p:selectOneMenu>
            </h:form>
            <h:outputText id="selecteddate" value="#{statController.selectedDate}"/>
        </section>

        <section id="daily-stats">
            
            <p:outputLabel id="daily-chart-label"                             
                           value="#{('Calories: ').concat(statController.dailyNutrians.get('kCal'))}"/>
                <p:chart id="daily-chart"                           
                         type="pie" model="#{chartController.createModel1(statController.selectedDate)}" style="width:350px;height:250px" />
                <p:messages id="msg" for="daily-chart"></p:messages>
         
        </section>

        <section id="total-stats">
            <p:outputLabel id="alltime-label" value="#{('AVG Calories: ').concat(chartController.avgCalories)}"/>
            <p:chart id="all-time-chart" type="pie" model="#{chartController.createModelAllTime()}" style="width:350px;height:250px" />
            <p:messages id="msg2" for="all-time-chart"></p:messages>
        </section>


    </composite:implementation>
</html>

